node n1 {
    type wlan
    network-config {
	hostname wlan1
	!
	interface wireless
	 ipv6 address 2001:0::0/128
	 ip address 10.0.0.0/24
	!
	mobmodel
	coreapi
	emane_rfpipe
	!
    }
    custom-config {
	custom-config-id emane_rfpipe
	custom-command {4 9 11 11 2 9 9 10 11 9 4 10 9 9 9 9 9 9 11 4 4 4 11 4 4 4 10 10 2 9 4 9 11 10 10}
	config {
	datarate=1000000
	delay=0.000000
	enablepromiscuousmode=0
	flowcontrolenable=0
	flowcontroltokens=10
	jitter=0.000000
	neighbormetricdeletetime=60.000000
	pcrcurveuri=/usr/share/emane/xml/models/mac/rfpipe/rfpipepcr.xml
	radiometricenable=0
	radiometricreportinterval=1.000000
	bandwidth=1000000
	fading.model=none
	fading.nakagami.distance0=100.000000
	fading.nakagami.distance1=250.000000
	fading.nakagami.m0=200.0000
	fading.nakagami.m1=1.000000
	fading.nakagami.m2=0.75000000
	fixedantennagain=0.000000
	fixedantennagainenable=1
	frequency=2346000000
	frequencyofinterest=2347000000
	noisebinsize=20
	noisemaxclampenable=0
	noisemaxmessagepropagation=200000
	noisemaxsegmentduration=1000000
	noisemaxsegmentoffset=300000
	noisemode=none
	propagationmodel=2ray
	subid=1
	systemnoisefigure=4.000000
	timesyncthreshold=10000
	txpower=10.000000
	external=0
	platformendpoint=127.0.0.1:40001
	transportendpoint=127.0.0.1:50002
	}
    }
    custom-config {
	custom-config-id emane
	custom-command {10 10 10 10 1 11 10 10 11 3 2 2 1 3 3 3 7 7 11 7 7 7}
	config {
	antennaprofilemanifesturi=
	controlportendpoint=0.0.0.0:47000
	eventservicedevice=ctrl0
	eventservicegroup=224.1.2.8:45703
	eventservicettl=1
	otamanagerchannelenable=1
	otamanagerdevice=ctrl1
	otamanagergroup=224.1.2.8:45702
	otamanagerloopback=0
	otamanagermtu=0
	otamanagerpartcheckthreshold=2
	otamanagerparttimeoutthreshold=5
	otamanagerttl=1
	stats.event.maxeventcountrows=0
	stats.ota.maxeventcountrows=0
	stats.ota.maxpacketcountrows=0
	platform_id_start=1
	nem_id_start=1
	link_enabled=1
	loss_threshold=30
	link_interval=1
	link_timeout=4
	}
    }
    custom-config {
	custom-config-id basic_range
	custom-command {3 3 9 9 9}
	config {
	range=275
	bandwidth=54000000
	jitter=0
	delay=20000
	error=0
	}
    }
    canvas c1
    iconcoords {219.0 387.0}
    labelcoords {219.0 419.0}
    interface-peer {e0 n2}
    interface-peer {e1 n3}
}

node n2 {
    type router
    model mdr
    network-config {
	hostname n2
	!
	interface eth0
	 ipv6 address 2001:0::1/128
	 ip address 10.0.0.1/24
	!
    }
    canvas c1
    iconcoords {69.0 449.0}
    labelcoords {69.0 481.0}
    interface-peer {eth0 n1}
    services {DefaultRoute IPForward}
}

node n3 {
    type router
    model mdr
    network-config {
	hostname n3
	!
	interface eth0
	 ipv6 address 2001:0::2/128
	 ip address 10.0.0.2/24
	!
    }
    canvas c1
    iconcoords {363.0 485.0}
    labelcoords {363.0 517.0}
    interface-peer {eth0 n1}
    custom-config {
	custom-config-id service:DefaultRoute
	custom-command DefaultRoute
	config {
	files=('defaultroute.sh', )
	}
    }
    custom-config {
	custom-config-id service:DefaultRoute:defaultroute.sh
	custom-command defaultroute.sh
	config {
	#!/bin/sh
	# auto-generated by DefaultRoute service (utility.py)
	ip route add default via 10.0.0.2
	
	}
    }
    services {DefaultRoute IPForward}
}

node n4 {
    type wlan
    network-config {
	hostname wlan4
	!
	interface wireless
	 ipv6 address 2001:1::0/128
	 ip address 10.0.1.0/24
	!
	mobmodel
	coreapi
	emane_rfpipe
	!
    }
    custom-config {
	custom-config-id emane_rfpipe
	custom-command {4 9 11 11 2 9 9 10 11 9 4 10 9 9 9 9 9 9 11 4 4 4 11 4 4 4 10 10 2 9 4 9 11 10 10}
	config {
	datarate=1000000
	delay=0.000000
	enablepromiscuousmode=0
	flowcontrolenable=0
	flowcontroltokens=10
	jitter=0.000000
	neighbormetricdeletetime=60.000000
	pcrcurveuri=/usr/share/emane/xml/models/mac/rfpipe/rfpipepcr.xml
	radiometricenable=0
	radiometricreportinterval=1.000000
	bandwidth=1000000
	fading.model=none
	fading.nakagami.distance0=100.000000
	fading.nakagami.distance1=250.000000
	fading.nakagami.m0=200.0000
	fading.nakagami.m1=1.000000
	fading.nakagami.m2=0.750000
	fixedantennagain=0.000000
	fixedantennagainenable=1
	frequency=2347000000
	frequencyofinterest=2346000000,2347000000
	noisebinsize=20
	noisemaxclampenable=0
	noisemaxmessagepropagation=200000
	noisemaxsegmentduration=1000000
	noisemaxsegmentoffset=300000
	noisemode=none
	propagationmodel=2ray
	subid=1
	systemnoisefigure=4.000000
	timesyncthreshold=10000
	txpower=10.000000
	external=0
	platformendpoint=127.0.0.1:40001
	transportendpoint=127.0.0.1:50002
	}
    }
    custom-config {
	custom-config-id basic_range
	custom-command {3 3 9 9 9}
	config {
	range=275
	bandwidth=54000000
	jitter=0
	delay=20000
	error=0
	}
    }
    canvas c1
    iconcoords {208.0 155.0}
    labelcoords {208.0 187.0}
    interface-peer {e0 n5}
    interface-peer {e1 n6}
}

node n5 {
    type router
    model mdr
    network-config {
	hostname n5
	!
	interface eth0
	 ipv6 address 2001:1::1/128
	 ip address 10.0.1.1/24
	!
    }
    canvas c1
    iconcoords {59.0 131.0}
    labelcoords {59.0 163.0}
    interface-peer {eth0 n4}
    services {DefaultRoute IPForward}
}

node n6 {
    type router
    model mdr
    network-config {
	hostname n6
	!
	interface eth0
	 ipv6 address 2001:1::2/128
	 ip address 10.0.1.2/24
	!
    }
    canvas c1
    iconcoords {351.0 135.0}
    labelcoords {351.0 167.0}
    interface-peer {eth0 n4}
    services {DefaultRoute IPForward}
    custom-config {
	custom-config-id service:DefaultRoute
	custom-command DefaultRoute
	config {
	files=('defaultroute.sh', )
	}
    }
    custom-config {
	custom-config-id service:DefaultRoute:defaultroute.sh
	custom-command defaultroute.sh
	config {
	#!/bin/sh
	# auto-generated by DefaultRoute service (utility.py)
	ip route add default via 10.0.1.2
	
	}
    }
}

link l1 {
    nodes {n1 n2}
}

link l2 {
    nodes {n1 n3}
}

link l3 {
    nodes {n4 n5}
}

link l4 {
    nodes {n4 n6}
}

annotation a1 {
    type text
    iconcoords {460.0 112.0}
    label {}
    canvas c1
}

annotation a3 {
    iconcoords {455.0 253.0}
    type text
    label {Uplink channel 2.346M hz}
    labelcolor black
    fontfamily {Arial}
    fontsize 12
    canvas c1
}

annotation a4 {
    iconcoords {24.0 58.0}
    type text
    label {frequency2347000000    frequencyofinterest2346000000,2347000000}
    labelcolor black
    fontfamily {Arial}
    fontsize 12
    canvas c1
}

annotation a5 {
    type text
    iconcoords {816.0 126.0}
    label {}
    canvas c1
}

annotation a6 {
    type text
    iconcoords {696.0 125.0}
    label {}
    canvas c1
}

annotation a7 {
    type text
    iconcoords {766.0 122.0}
    label {}
    canvas c1
}

annotation a8 {
    iconcoords {93.0 267.0}
    type text
    label {Frequency test experiment}
    labelcolor black
    fontfamily {Arial}
    fontsize {16}
    effects {bold}
    canvas c1
}

annotation a9 {
    type text
    iconcoords {78.0 447.0}
    label {}
    canvas c1
}

annotation a10 {
    iconcoords {25.0 550.0}
    type text
    label {frequency2347000000     frequencyofinterest2346000000}
    labelcolor black
    fontfamily {Arial}
    fontsize 12
    canvas c1
}

annotation a2 {
    iconcoords {455.0 309.0}
    type text
    label {Downlink channel 2.347M hz}
    labelcolor black
    fontfamily {Arial}
    fontsize 12
    canvas c1
}

annotation a12 {
    type text
    iconcoords {630.0 413.0}
    label {}
    canvas c1
}

annotation a13 {
    type text
    iconcoords {345.0 427.0}
    label {}
    canvas c1
}

annotation a11 {
    iconcoords {464.0 377.0}
    type text
    label {Any nodes can communicate with each other except N2 to N3}
    labelcolor black
    fontfamily {Arial}
    fontsize 12
    canvas c1
}

annotation a14 {
    type text
    iconcoords {553.0 373.0}
    label {}
    canvas c1
}

annotation a15 {
    type text
    iconcoords {550.0 471.0}
    label {}
    canvas c1
}

canvas c1 {
    name {Canvas1}
}

option global {
    interface_names no
    ip_addresses yes
    ipv6_addresses no
    node_labels yes
    link_labels yes
    show_api no
    background_images no
    annotations yes
    grid yes
    traffic_start 0
}

option session {
    controlnet=172.16.0.0/24
    controlnet0=
    controlnet1=172.16.1.0/24
    controlnet2=
    controlnet3=
    controlnet_updown_script=
    enablerj45=1
    enablesdt=0
    ovs=0
    preservedir=0
    sdturl=tcp://127.0.0.1:50000/
}

